import 'package:http/http.dart' as http;
import 'package:mocktail/mocktail.dart';
import 'package:test/test.dart';
import 'package:usuarios/users/users_api.dart';

class ClientMock extends Mock implements http.Client {}
class FakeUri extends Fake implements Uri {}


void main() {
  setUpAll(() {
    registerFallbackValue(FakeUri());
  });
  ClientMock client = ClientMock();

  UsersAPIList usersAPIList = UsersAPIList(client);

  test('return list users', () async {
    when(() => client.get(any())).thenAnswer((invocation) async => http.Response(jsonResponseResult, 200));
    List list = await usersAPIList.getUsers();
    expect(list.isNotEmpty, equals(true));
    expect(list.first['name']['title'], equals('Mr'));
  });
}

const String jsonResponseResult =
    '{"results":[{"gender":"male","name":{"title":"Mr","first":"Fausto","last":"Carvalho"},"email":"fausto.carvalho@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/43.jpg","medium":"https://randomuser.me/api/portraits/med/men/43.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/43.jpg"}},{"gender":"female","name":{"title":"Miss","first":"Barbie","last":"Fernandes"},"email":"barbie.fernandes@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/42.jpg","medium":"https://randomuser.me/api/portraits/med/women/42.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/42.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Bóris","last":"Nascimento"},"email":"boris.nascimento@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/22.jpg","medium":"https://randomuser.me/api/portraits/med/men/22.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/22.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Sixto","last":"Teixeira"},"email":"sixto.teixeira@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/3.jpg","medium":"https://randomuser.me/api/portraits/med/men/3.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/3.jpg"}},{"gender":"female","name":{"title":"Ms","first":"Sonja","last":"Lima"},"email":"sonja.lima@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/77.jpg","medium":"https://randomuser.me/api/portraits/med/women/77.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/77.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Helier","last":"Gonçalves"},"email":"helier.goncalves@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/83.jpg","medium":"https://randomuser.me/api/portraits/med/men/83.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/83.jpg"}},{"gender":"female","name":{"title":"Ms","first":"Jamila","last":"da Cunha"},"email":"jamila.dacunha@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/61.jpg","medium":"https://randomuser.me/api/portraits/med/women/61.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/61.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Gomes","last":"Carvalho"},"email":"gomes.carvalho@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/79.jpg","medium":"https://randomuser.me/api/portraits/med/men/79.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/79.jpg"}},{"gender":"female","name":{"title":"Mrs","first":"Demilde","last":"Ribeiro"},"email":"demilde.ribeiro@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/85.jpg","medium":"https://randomuser.me/api/portraits/med/women/85.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/85.jpg"}},{"gender":"female","name":{"title":"Mrs","first":"Latiffa","last":"Alves"},"email":"latiffa.alves@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/50.jpg","medium":"https://randomuser.me/api/portraits/med/women/50.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/50.jpg"}},{"gender":"female","name":{"title":"Ms","first":"Julie","last":"Cardoso"},"email":"julie.cardoso@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/72.jpg","medium":"https://randomuser.me/api/portraits/med/women/72.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/72.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Corsino","last":"Campos"},"email":"corsino.campos@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/73.jpg","medium":"https://randomuser.me/api/portraits/med/men/73.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/73.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Lauriano","last":"Martins"},"email":"lauriano.martins@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/41.jpg","medium":"https://randomuser.me/api/portraits/med/men/41.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/41.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Madail","last":"Oliveira"},"email":"madail.oliveira@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/66.jpg","medium":"https://randomuser.me/api/portraits/med/men/66.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/66.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Diogo","last":"Moreira"},"email":"diogo.moreira@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/44.jpg","medium":"https://randomuser.me/api/portraits/med/men/44.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/44.jpg"}},{"gender":"female","name":{"title":"Miss","first":"Monique","last":"Costa"},"email":"monique.costa@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/28.jpg","medium":"https://randomuser.me/api/portraits/med/women/28.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/28.jpg"}},{"gender":"female","name":{"title":"Miss","first":"Silviane","last":"Martins"},"email":"silviane.martins@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/87.jpg","medium":"https://randomuser.me/api/portraits/med/women/87.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/87.jpg"}},{"gender":"female","name":{"title":"Mrs","first":"Rosa","last":"Duarte"},"email":"rosa.duarte@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/78.jpg","medium":"https://randomuser.me/api/portraits/med/women/78.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/78.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Carmério","last":"Castro"},"email":"carmerio.castro@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/12.jpg","medium":"https://randomuser.me/api/portraits/med/men/12.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/12.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Clésio","last":"Dias"},"email":"clesio.dias@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/35.jpg","medium":"https://randomuser.me/api/portraits/med/men/35.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/35.jpg"}}],"info":{"seed":"d1829b05611cebb9","results":20,"page":1,"version":"1.4"}}';

const String jsonResponseResultList ='[{"gender":"female","name":{"title":"Ms","first":"Norma","last":"Gonçalves"},"email":"norma.goncalves@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/46.jpg","medium":"https://randomuser.me/api/portraits/med/women/46.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/46.jpg"}},{"gender":"female","name":{"title":"Mrs","first":"Uaira","last":"de Souza"},"email":"uaira.desouza@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/78.jpg","medium":"https://randomuser.me/api/portraits/med/women/78.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/78.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Eli","last":"Alves"},"email":"eli.alves@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/60.jpg","medium":"https://randomuser.me/api/portraits/med/men/60.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/60.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Quévin","last":"Ribeiro"},"email":"quevin.ribeiro@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/96.jpg","medium":"https://randomuser.me/api/portraits/med/men/96.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/96.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Lupicino","last":"Monteiro"},"email":"lupicino.monteiro@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/4.jpg","medium":"https://randomuser.me/api/portraits/med/men/4.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/4.jpg"}},{"gender":"female","name":{"title":"Mrs","first":"Tainá","last":"Aragão"},"email":"taina.aragao@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/61.jpg","medium":"https://randomuser.me/api/portraits/med/women/61.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/61.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Euclides","last":"Rodrigues"},"email":"euclides.rodrigues@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/1.jpg","medium":"https://randomuser.me/api/portraits/med/men/1.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/1.jpg"}},{"gender":"female","name":{"title":"Mrs","first":"Maricelda","last":"Freitas"},"email":"maricelda.freitas@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/41.jpg","medium":"https://randomuser.me/api/portraits/med/women/41.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/41.jpg"}},{"gender":"female","name":{"title":"Ms","first":"Sinorá","last":"Sales"},"email":"sinora.sales@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/16.jpg","medium":"https://randomuser.me/api/portraits/med/women/16.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/16.jpg"}},{"gender":"female","name":{"title":"Mrs","first":"Aidê","last":"Lima"},"email":"aide.lima@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/16.jpg","medium":"https://randomuser.me/api/portraits/med/women/16.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/16.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Evelácio","last":"da Mota"},"email":"evelacio.damota@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/75.jpg","medium":"https://randomuser.me/api/portraits/med/men/75.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/75.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Magno","last":"Sales"},"email":"magno.sales@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/10.jpg","medium":"https://randomuser.me/api/portraits/med/men/10.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/10.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Margarido","last":"Nunes"},"email":"margarido.nunes@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/41.jpg","medium":"https://randomuser.me/api/portraits/med/men/41.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/41.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Martinho","last":"Melo"},"email":"martinho.melo@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/92.jpg","medium":"https://randomuser.me/api/portraits/med/men/92.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/92.jpg"}},{"gender":"female","name":{"title":"Miss","first":"Vânea","last":"Fernandes"},"email":"vanea.fernandes@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/69.jpg","medium":"https://randomuser.me/api/portraits/med/women/69.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/69.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Erik","last":"Moreira"},"email":"erik.moreira@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/17.jpg","medium":"https://randomuser.me/api/portraits/med/men/17.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/17.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Aparício","last":"da Rocha"},"email":"aparicio.darocha@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/34.jpg","medium":"https://randomuser.me/api/portraits/med/men/34.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/34.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Anielo","last":"Castro"},"email":"anielo.castro@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/24.jpg","medium":"https://randomuser.me/api/portraits/med/men/24.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/24.jpg"}},{"gender":"female","name":{"title":"Mrs","first":"Mariléia","last":"Campos"},"email":"marileia.campos@example.com","picture":{"large":"https://randomuser.me/api/portraits/women/81.jpg","medium":"https://randomuser.me/api/portraits/med/women/81.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/81.jpg"}},{"gender":"male","name":{"title":"Mr","first":"Rosano","last":"Melo"},"email":"rosano.melo@example.com","picture":{"large":"https://randomuser.me/api/portraits/men/2.jpg","medium":"https://randomuser.me/api/portraits/med/men/2.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/2.jpg"}}]';